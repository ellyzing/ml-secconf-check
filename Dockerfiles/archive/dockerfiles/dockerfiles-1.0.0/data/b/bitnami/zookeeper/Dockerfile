FROM bitnami/minideb-extras:jessie-r68  
LABEL maintainer "Bitnami <containers@bitnami.com>"  
  
ENV BITNAMI_PKG_CHMOD="-R g+rwX" \  
HOME="/"  
# Install required system packages and dependencies  
RUN bitnami-pkg install java-1.8.171-3 --checksum
3454a0bda3a4fb282b6b9a7022677a48dc493df0e13cb04d3c92e070e102a244  
RUN bitnami-pkg unpack zookeeper-3.4.12-2 --checksum
dfc25ec25de0d5470bd5109e65c996c9407e3925572bdfbf7aa1ce05abebff29  
  
COPY rootfs /  
ENV ALLOW_ANONYMOUS_LOGIN="no" \  
BITNAMI_APP_NAME="zookeeper" \  
BITNAMI_IMAGE_VERSION="3.4.12-r16" \  
JVMFLAGS="" \  
PATH="/opt/bitnami/java/bin:/opt/bitnami/zookeeper/bin:$PATH" \  
ZOO_CLIENT_PASSWORD="" \  
ZOO_CLIENT_USER="" \  
ZOO_ENABLE_AUTH="no" \  
ZOO_HEAP_SIZE="1024" \  
ZOO_INIT_LIMIT="10" \  
ZOO_MAX_CLIENT_CNXNS="60" \  
ZOO_PORT_NUMBER="2181" \  
ZOO_SERVERS="" \  
ZOO_SERVER_ID="1" \  
ZOO_SERVER_PASSWORDS="" \  
ZOO_SERVER_USERS="" \  
ZOO_SYNC_LIMIT="5" \  
ZOO_TICK_TIME="2000"  
  
EXPOSE 2181 2888 3888  
  
USER 1001  
ENTRYPOINT ["/app-entrypoint.sh"]  
CMD ["/run.sh"]  

